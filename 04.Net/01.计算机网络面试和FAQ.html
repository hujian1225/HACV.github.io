<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>计算机网络面试和FAQ | HACV</title>
    <meta name="description" content="Personal Blog Website">
    <link rel="icon" href="/images/photo.jpg">
  <link rel="manifest" href="/images/photo.jpg">
  <link rel="apple-touch-icon" href="/images/photo.jpg">
  <meta http-quiv="pragma" cotent="no-cache">
  <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
  <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.0dbae9ec.css" as="style"><link rel="preload" href="/assets/js/app.075967ea.js" as="script"><link rel="preload" href="/assets/js/27.bf8eb072.js" as="script"><link rel="prefetch" href="/assets/js/10.877a55b7.js"><link rel="prefetch" href="/assets/js/100.3a250763.js"><link rel="prefetch" href="/assets/js/101.4e6599e4.js"><link rel="prefetch" href="/assets/js/102.5580db65.js"><link rel="prefetch" href="/assets/js/11.be2999d2.js"><link rel="prefetch" href="/assets/js/12.4f613f36.js"><link rel="prefetch" href="/assets/js/13.b6349c30.js"><link rel="prefetch" href="/assets/js/14.26bce089.js"><link rel="prefetch" href="/assets/js/15.1cd4416a.js"><link rel="prefetch" href="/assets/js/16.e8eafe8f.js"><link rel="prefetch" href="/assets/js/17.fca8847c.js"><link rel="prefetch" href="/assets/js/18.ea56a77c.js"><link rel="prefetch" href="/assets/js/19.fe23e3f4.js"><link rel="prefetch" href="/assets/js/2.ef8300fa.js"><link rel="prefetch" href="/assets/js/20.2c26a59b.js"><link rel="prefetch" href="/assets/js/21.dbe36635.js"><link rel="prefetch" href="/assets/js/22.6f98cda0.js"><link rel="prefetch" href="/assets/js/23.bbff78da.js"><link rel="prefetch" href="/assets/js/24.3e484053.js"><link rel="prefetch" href="/assets/js/25.3f4a5f65.js"><link rel="prefetch" href="/assets/js/26.ce0361f9.js"><link rel="prefetch" href="/assets/js/28.2fe03ecc.js"><link rel="prefetch" href="/assets/js/29.3961adee.js"><link rel="prefetch" href="/assets/js/3.efb3011d.js"><link rel="prefetch" href="/assets/js/30.d8d6af92.js"><link rel="prefetch" href="/assets/js/31.c1aecb01.js"><link rel="prefetch" href="/assets/js/32.1b2853b0.js"><link rel="prefetch" href="/assets/js/33.88c961f9.js"><link rel="prefetch" href="/assets/js/34.0c9ed89f.js"><link rel="prefetch" href="/assets/js/35.ce701b23.js"><link rel="prefetch" href="/assets/js/36.f63306f5.js"><link rel="prefetch" href="/assets/js/37.c23f73e1.js"><link rel="prefetch" href="/assets/js/38.9f9ae58c.js"><link rel="prefetch" href="/assets/js/39.eeedf72c.js"><link rel="prefetch" href="/assets/js/4.804f4910.js"><link rel="prefetch" href="/assets/js/40.3bb56b05.js"><link rel="prefetch" href="/assets/js/41.085977ed.js"><link rel="prefetch" href="/assets/js/42.8e9761d6.js"><link rel="prefetch" href="/assets/js/43.19b762d7.js"><link rel="prefetch" href="/assets/js/44.1443ee1e.js"><link rel="prefetch" href="/assets/js/45.4b8a282e.js"><link rel="prefetch" href="/assets/js/46.4cfc8dc3.js"><link rel="prefetch" href="/assets/js/47.c2c7155e.js"><link rel="prefetch" href="/assets/js/48.eac3805a.js"><link rel="prefetch" href="/assets/js/49.0e30b8b1.js"><link rel="prefetch" href="/assets/js/5.b3e93cf0.js"><link rel="prefetch" href="/assets/js/50.e25f098a.js"><link rel="prefetch" href="/assets/js/51.b83c6091.js"><link rel="prefetch" href="/assets/js/52.2dee17f1.js"><link rel="prefetch" href="/assets/js/53.50d97456.js"><link rel="prefetch" href="/assets/js/54.bea53589.js"><link rel="prefetch" href="/assets/js/55.d9b69c42.js"><link rel="prefetch" href="/assets/js/56.be50a469.js"><link rel="prefetch" href="/assets/js/57.cff21887.js"><link rel="prefetch" href="/assets/js/58.1f5ba164.js"><link rel="prefetch" href="/assets/js/59.7fe62295.js"><link rel="prefetch" href="/assets/js/6.a5cb040a.js"><link rel="prefetch" href="/assets/js/60.f224a395.js"><link rel="prefetch" href="/assets/js/61.5db2158d.js"><link rel="prefetch" href="/assets/js/62.82e94ca5.js"><link rel="prefetch" href="/assets/js/63.07a248b2.js"><link rel="prefetch" href="/assets/js/64.ccec04a2.js"><link rel="prefetch" href="/assets/js/65.5bf93bdd.js"><link rel="prefetch" href="/assets/js/66.1df64a9e.js"><link rel="prefetch" href="/assets/js/67.4d4df9dd.js"><link rel="prefetch" href="/assets/js/68.03364e55.js"><link rel="prefetch" href="/assets/js/69.69150ccf.js"><link rel="prefetch" href="/assets/js/7.938ee3ee.js"><link rel="prefetch" href="/assets/js/70.88c4ff55.js"><link rel="prefetch" href="/assets/js/71.ea4616c7.js"><link rel="prefetch" href="/assets/js/72.9f49ad9f.js"><link rel="prefetch" href="/assets/js/73.6ad63c27.js"><link rel="prefetch" href="/assets/js/74.d5e868e0.js"><link rel="prefetch" href="/assets/js/75.6ccfaef2.js"><link rel="prefetch" href="/assets/js/76.9be09951.js"><link rel="prefetch" href="/assets/js/77.a3759cd8.js"><link rel="prefetch" href="/assets/js/78.8fa1a432.js"><link rel="prefetch" href="/assets/js/79.7227b077.js"><link rel="prefetch" href="/assets/js/8.9dfb31aa.js"><link rel="prefetch" href="/assets/js/80.ebc8b621.js"><link rel="prefetch" href="/assets/js/81.b68c85c3.js"><link rel="prefetch" href="/assets/js/82.17f3b484.js"><link rel="prefetch" href="/assets/js/83.59e8d069.js"><link rel="prefetch" href="/assets/js/84.51bd2828.js"><link rel="prefetch" href="/assets/js/85.c85a54e8.js"><link rel="prefetch" href="/assets/js/86.7f70dca4.js"><link rel="prefetch" href="/assets/js/87.9e0312e1.js"><link rel="prefetch" href="/assets/js/88.7a09b2cc.js"><link rel="prefetch" href="/assets/js/89.f57e20df.js"><link rel="prefetch" href="/assets/js/9.3583c964.js"><link rel="prefetch" href="/assets/js/90.4a196c80.js"><link rel="prefetch" href="/assets/js/91.bc66aec4.js"><link rel="prefetch" href="/assets/js/92.4c3022c5.js"><link rel="prefetch" href="/assets/js/93.992b7ebf.js"><link rel="prefetch" href="/assets/js/94.8a737431.js"><link rel="prefetch" href="/assets/js/95.1b04f61d.js"><link rel="prefetch" href="/assets/js/96.79a3e6c6.js"><link rel="prefetch" href="/assets/js/97.8788867e.js"><link rel="prefetch" href="/assets/js/98.1d9963e5.js"><link rel="prefetch" href="/assets/js/99.8db258b6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0dbae9ec.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">HACV</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/07.InternalSkill/" class="nav-link">⭐️硬件</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">🔋软件</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/02.DataStructureAndAlgorithm/" class="nav-link">🐾数据结构和算法</a></li><li class="dropdown-item"><!----> <a href="/03.OS/" class="nav-link">💻操作系统</a></li><li class="dropdown-item"><!----> <a href="/04.Net/" class="nav-link router-link-active">☁️计算机网络</a></li><li class="dropdown-item"><!----> <a href="/05.SE/" class="nav-link">✅软件工程</a></li></ul></div></div><div class="nav-item"><a href="/06.SQL/" class="nav-link">⚡️数据库</a></div><div class="nav-item"><a href="/08.Tools/" class="nav-link">⚙️工具</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">🚀语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/09.Language/C/" class="nav-link">⭐️C</a></li><li class="dropdown-item"><!----> <a href="/09.Language/Cpp/" class="nav-link">🚀C++</a></li><li class="dropdown-item"><!----> <a href="/09.Language/Java/" class="nav-link">☕️Java</a></li></ul></div></div><div class="nav-item"><a href="/10.SourceCode/" class="nav-link">⭐️源码剖析</a></div><div class="nav-item"><a href="https://github.com/HACV" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/07.InternalSkill/" class="nav-link">⭐️硬件</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">🔋软件</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/02.DataStructureAndAlgorithm/" class="nav-link">🐾数据结构和算法</a></li><li class="dropdown-item"><!----> <a href="/03.OS/" class="nav-link">💻操作系统</a></li><li class="dropdown-item"><!----> <a href="/04.Net/" class="nav-link router-link-active">☁️计算机网络</a></li><li class="dropdown-item"><!----> <a href="/05.SE/" class="nav-link">✅软件工程</a></li></ul></div></div><div class="nav-item"><a href="/06.SQL/" class="nav-link">⚡️数据库</a></div><div class="nav-item"><a href="/08.Tools/" class="nav-link">⚙️工具</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">🚀语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/09.Language/C/" class="nav-link">⭐️C</a></li><li class="dropdown-item"><!----> <a href="/09.Language/Cpp/" class="nav-link">🚀C++</a></li><li class="dropdown-item"><!----> <a href="/09.Language/Java/" class="nav-link">☕️Java</a></li></ul></div></div><div class="nav-item"><a href="/10.SourceCode/" class="nav-link">⭐️源码剖析</a></div><div class="nav-item"><a href="https://github.com/HACV" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>计算机网络面试和FAQ</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/04.Net/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E5%92%8CFAQ.html#_00-运维网络经验" class="sidebar-link">00.运维网络经验</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/04.Net/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E5%92%8CFAQ.html#_01-nat映射（打洞机制）" class="sidebar-link">01.NAT映射（打洞机制）</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/04.Net/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E5%92%8CFAQ.html#_02-nat映射的两个私网，如何通信？" class="sidebar-link">02.NAT映射的两个私网，如何通信？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/04.Net/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E5%92%8CFAQ.html#_03-ipv6真的需要吗？" class="sidebar-link">03.IPv6真的需要吗？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/04.Net/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E5%92%8CFAQ.html#_04-记忆常见端口号" class="sidebar-link">04.记忆常见端口号</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/04.Net/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E5%92%8CFAQ.html#_05-『数据』封装过程『重要』" class="sidebar-link">05.『数据』封装过程『重要』</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/04.Net/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E5%92%8CFAQ.html#_06-四种网络连接" class="sidebar-link">06.四种网络连接</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/04.Net/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E5%92%8CFAQ.html#_07-tcp3次握手和4次挥手" class="sidebar-link">07.TCP3次握手和4次挥手</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/04.Net/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E5%92%8CFAQ.html#_7-1-连接时候为什么需要三次握手" class="sidebar-link">7.1.连接时候为什么需要三次握手</a></li><li class="sidebar-sub-header"><a href="/04.Net/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E5%92%8CFAQ.html#_7-2-为什么断开的时候需要四次挥手" class="sidebar-link">7.2.为什么断开的时候需要四次挥手</a></li></ul></li><li><a href="/04.Net/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E5%92%8CFAQ.html#_08-请你说一说tcp-ip数据链路层的交互过程" class="sidebar-link">08.请你说一说TCP/IP数据链路层的交互过程</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="计算机网络面试和faq"><a href="#计算机网络面试和faq" class="header-anchor">#</a> 计算机网络面试和FAQ</h1> <p>这些知识，可以说，能够串起来很多现实中的说法
并且，这些知识<font style="background:yellow;">加强了国内教材上未强调的知识</font>。</p> <h2 id="_00-运维网络经验"><a href="#_00-运维网络经验" class="header-anchor">#</a> 00.运维网络经验</h2> <ul><li>用网络的高峰</li></ul> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>上午	7:30-10:39  
下午	6:30-9:30  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_01-nat映射（打洞机制）"><a href="#_01-nat映射（打洞机制）" class="header-anchor">#</a> 01.NAT映射（打洞机制）</h2> <h2 id="_02-nat映射的两个私网，如何通信？"><a href="#_02-nat映射的两个私网，如何通信？" class="header-anchor">#</a> 02.NAT映射的两个私网，如何通信？</h2> <h2 id="_03-ipv6真的需要吗？"><a href="#_03-ipv6真的需要吗？" class="header-anchor">#</a> 03.IPv6真的需要吗？</h2> <ul><li>需要，虽然根据理论，IPv4的话，进行多层也是可以满足的，但是正是因为『未来』会越来越多层</li> <li>到时候，传输的效率会下降</li></ul> <h2 id="_04-记忆常见端口号"><a href="#_04-记忆常见端口号" class="header-anchor">#</a> 04.记忆常见端口号</h2> <ul><li><p>默认情况下FTP协议使用TCP端口中的 20和21这两个端口，其中20用于传输数据，21用于传输控制。</p></li> <li><p>怎么不记混呢，就是0和1的区别，**0是O管道负责传输，『1是把手，负责控制』。 **</p></li></ul> <blockquote><p>参考自：<a href="https://www.nowcoder.com/profile/6206174" target="_blank" rel="noopener noreferrer">牛客网用户<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>TCP  21 端口： FTP  文件传输服务

TCP  23 端口： TELNET  终端仿真服务
TCP  25 端口： SMTP  简单邮件传输服务
UDP  53 端口： DNS  域名解析服务
TCP  80 端口： HTTP  超文本传输服务
TCP  110 端口： POP3  “邮局协议版本3”使用的端口
TCP  443 端口： HTTPS  加密的超文本传输服务
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_05-『数据』封装过程『重要』"><a href="#_05-『数据』封装过程『重要』" class="header-anchor">#</a> 05.『数据』封装过程『重要』</h2> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>（消息）数据—&gt;段—&gt;包—&gt;帧—&gt;比特流
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>记忆方法：</li> <li>TCP中是流式数据，抽刀断（<strong>段</strong>）水水更流『传输层』</li> <li>路由器在《自顶向下，计算机网络》中长得像（<strong>包</strong>）子『网络层』</li></ul> <p>从上往下数</p> <table><thead><tr><th>7层模型</th> <th>名字</th></tr></thead> <tbody><tr><td>应用层，表示层，会话层</td> <td>PDU（协议数据单元）<strong>消息（数据）</strong></td></tr> <tr><td>传输层</td> <td>PDU<strong>段</strong>（数据段）</td></tr> <tr><td>网络层</td> <td>PDU<strong>包</strong></td></tr> <tr><td>链路层</td> <td>PDU<strong>帧</strong></td></tr> <tr><td>物理层</td> <td>PDU<strong>比特</strong></td></tr></tbody></table> <blockquote><p>注意：</p> <p>RFC文档中将TCP的运输层分组称为『报文<strong>段</strong>』，UDP的分组称为『数据<strong>报</strong>』，并且将网络层分组称为『数据<strong>报</strong>』</p> <p>《计算机网络-自顶向下方法》一书中，看到这个之后，为了避免混淆，将TCP/UDP的分组统称为『报文段』</p></blockquote> <h2 id="_06-四种网络连接"><a href="#_06-四种网络连接" class="header-anchor">#</a> 06.四种网络连接</h2> <table><thead><tr><th>类别</th> <th></th></tr></thead> <tbody><tr><td>公网-公网</td> <td>直接访问</td></tr> <tr><td>公网-私网</td> <td>NAT映射</td></tr> <tr><td>私网-公网</td> <td>NAT映射</td></tr> <tr><td>私网-私网</td> <td>NAT映射、（公网的服务器）打洞机制</td></tr></tbody></table> <p>实际上，要是对私网IP进一步划分的话，还分为局域网，或者叫内网。 这个的话，不需要打洞或者NAT映射机制</p> <h2 id="_07-tcp3次握手和4次挥手"><a href="#_07-tcp3次握手和4次挥手" class="header-anchor">#</a> 07.TCP3次握手和4次挥手</h2> <ul><li>希望用专业术语说，虽然打比方能够讲清楚</li></ul> <h3 id="_7-1-连接时候为什么需要三次握手"><a href="#_7-1-连接时候为什么需要三次握手" class="header-anchor">#</a> 7.1.连接时候为什么需要三次握手</h3> <p>（1）通俗解释1</p> <p>三次握手，就是说三次收发消息的过程。</p> <p>一个完整的TCP连接，他有一个标准就是说：通讯的双方，都能确认双方是能够正常收发的！<strong>（注意，收和发）</strong></p> <p>C客户端→S服务器</p> <p>S收到后，可以确认：</p> <p>S就知道</p> <ul><li>[x] C能正常发（确认）</li> <li>[ ] C能正常收</li> <li>[ ] S能正常发</li> <li>[x] S能正常收（确认）</li></ul> <p>C客户端←S服务器</p> <p>S就知道</p> <ul><li>[x] C能正常发（确认）</li> <li>[x] C能正常收（确认）</li> <li>[x] S能正常发（确认）</li> <li>[x] S能正常收（确认）</li></ul> <p>C客户端→S服务器</p> <ul><li>[x] C能正常发</li> <li>[x] C能正常收（确定）</li> <li>[x] S能正常发（确定）</li> <li>[x] S能正常收</li></ul> <blockquote><p><font style="background:yellow;">简介说法：三次握手目的是保证双方都有发送和接收的能力。</font></p></blockquote> <h3 id="_7-2-为什么断开的时候需要四次挥手"><a href="#_7-2-为什么断开的时候需要四次挥手" class="header-anchor">#</a> 7.2.为什么断开的时候需要四次挥手</h3> <p><a href="https://baijiahao.baidu.com/s?id=1654225744653405133&wfr=spider&for=pc" target="_blank" rel="noopener noreferrer">链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>牛客：
因为tcp是全双工模式，接收到FIN时意味将没有数据再发来，但是还是可以继续发送数据，所以断开连接时必须是四次握手</p> <p>百度：
https://baike.baidu.com/item/tcp%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/7922126?fr=aladdin
讲得很好：
这是因为服务端的LISTEN状态下的SOCKET当收到SYN报文的建连请求后，它<strong>可以把ACK和SYN（ACK起应答作用，而SYN起同步作用）放在一个报文里来发送</strong>。</p> <p>但关闭连接时，当收到对方的FIN报文通知时，它仅仅表示对方没有数据发送给你了；但<strong>未必你所有的数据都全部发送给对方了</strong>，所以你可以<strong>未必会马上会关闭SOCKET</strong>,也即你可能还需要发送一些数据给对方之后，再发送FIN报文给对方来表示你同意可以关闭连接了，<strong>所以它这里的ACK报文和FIN报文多数情况下都是分开发送的</strong>。</p> <h2 id="_08-请你说一说tcp-ip数据链路层的交互过程"><a href="#_08-请你说一说tcp-ip数据链路层的交互过程" class="header-anchor">#</a> 08.请你说一说TCP/IP<code>数据链路层</code>的交互过程</h2> <p>网络层等到<strong>数据链层</strong>用<code>mac地址</code>作为通信目标，数据包到达网络等准备往数据链层发送的时候</p> <ul><li>首先会去自己的<code>arp缓存表</code>(存着ip-mac对应关系)去查找该目标ip的mac地址
<ul><li>如果查到了，就讲目标ip的mac地址封装到链路层数据包的包头</li> <li>如果缓存中没有找到，会发起一个广播：who is ip XXX tell ip XXX,所有收到的广播的机器看这个ip是不是自己的，如果是自己的，则以单播的形式将自己的mac地址回复给请求的机器</li></ul></li></ul></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.075967ea.js" defer></script><script src="/assets/js/27.bf8eb072.js" defer></script>
  </body>
</html>
