(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{174:function(t,s,a){t.exports=a.p+"assets/img/è¿›ç¨‹æ§åˆ¶å—PCB.03966435.png"},175:function(t,s,a){t.exports=a.p+"assets/img/çº¿ç¨‹åŒæ­¥.3130570c.png"},246:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("p",[t._v("[TOC]")]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://sunweiguo.github.io/2019/11/17/miscellany/20%E5%85%B3%E4%BA%8E%E5%A4%9ACPU%E5%92%8C%E5%A4%9A%E6%A0%B8CPU%E7%9A%84%E5%8C%BA%E5%88%AB/",target:"_blank",rel:"noopener noreferrer"}},[t._v("å…³äºå¤šCPUå’Œå¤šæ ¸CPUçš„åŒºåˆ«"),n("OutboundLink")],1)])]),t._v(" "),t._m(1),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),n("img",{attrs:{src:a(174)}}),t._v(" "),t._m(16),t._v(" "),n("p",[t._v("ä¸ºäº†ç®¡ç†è¿›ç¨‹ï¼Œå†…æ ¸å¿…é¡»å¯¹æ¯ä¸ªè¿›ç¨‹æ‰€åšçš„äº‹æƒ…è¿›è¡Œã€æ¸…æ¥šçš„æè¿°ã€ã€‚\nå†…æ ¸ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€ä¸ªPCB(Processing Control Block)è¿›ç¨‹æ§åˆ¶å—ï¼Œç»´æŠ¤è¿›ç¨‹ç›¸å…³çš„ä¿¡æ¯ï¼ŒLinuxå†…æ ¸çš„è¿›ç¨‹æ§åˆ¶å—æ˜¯task_structç»“æ„ä½“ã€‚")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),n("ul",[t._m(20),t._v(" "),t._m(21),t._v(" "),n("li",[t._v("è®°å¿†æ–¹æ³•ï¼š"),n("br"),t._v(" "),n("font",{staticStyle:{background:"yellow"}},[t._v("å¤§Bossï¼ˆè¿›ç¨‹ï¼‰ï¼Œåªç®¡æ‹¿ç€èµ„æºç»Ÿç­¹å…¼é¡¾ã€‚\nå°å…µï¼ˆçº¿ç¨‹ï¼‰ï¼Œè¦å–åŠ›æ‰§è¡Œå‘½ä»¤")])],1)]),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),n("blockquote",[n("ul",[n("li",[n("font",{staticStyle:{background:"yellow"}},[t._v("Windowså†…æ ¸ä¸­æœ‰æ˜ç¡®çš„"),n("b",[t._v("è¿›ç¨‹")]),t._v("å’Œ"),n("b",[t._v("çº¿ç¨‹")]),t._v("çš„æ¦‚å¿µ")])],1)])]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._m(38),t._v(" "),t._m(39),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),n("blockquote",[n("p",[t._v("å‚è€ƒèµ„æ–™ï¼š"),n("a",{attrs:{href:"https://www.cnblogs.com/LUO77/p/5816326.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼â€”â€”ä¿¡å·ã€ç®¡é“ã€æ¶ˆæ¯é˜Ÿåˆ—ã€å…±äº«å†…å­˜"),n("OutboundLink")],1)])]),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),n("img",{attrs:{src:a(175)}}),t._v(" "),n("p",[t._v("inuxä¸‹çš„çº¿ç¨‹åˆ›å»ºã€ç­‰å¾…ã€è·å–çº¿ç¨‹ id")]),t._v(" "),t._m(50),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._m(55),t._m(56),t._v(" "),t._m(57),t._m(58),t._v(" "),t._m(59),t._m(60),t._v(" "),t._m(61),t._m(62),t._v(" "),t._m(63),t._v(" "),t._m(64),t._m(65),t._v(" "),t._m(66),t._v(" "),t._m(67),t._m(68),t._v(" "),n("blockquote",[n("p",[t._v("å‚è€ƒï¼š"),n("a",{attrs:{href:"https://blog.nowcoder.net/n/e26967a0bfa44ffb9836c0713412d4a7",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux C/C++ åå°å¼€å‘å®ä¹ ç”ŸæŠ€èƒ½è¦æ±‚"),n("OutboundLink")],1)])]),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),t._m(71)])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"â­ï¸è¿›ç¨‹å’Œçº¿ç¨‹åŸºç¡€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸è¿›ç¨‹å’Œçº¿ç¨‹åŸºç¡€"}},[this._v("#")]),this._v(" â­ï¸è¿›ç¨‹å’Œçº¿ç¨‹åŸºç¡€")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-txt line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("å¤šè¿›ç¨‹ã€è¿›ç¨‹åŒæ­¥ã€è¿›ç¨‹æ± \nå¤šçº¿ç¨‹ã€çº¿ç¨‹åŒæ­¥ã€çº¿ç¨‹æ± \nåç¨‹\nåŒæ­¥ã€å¼‚æ­¥ã€é˜»å¡ã€éé˜»å¡ã€è½®è¯¢\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br"),s("span",{staticClass:"line-number"},[this._v("3")]),s("br"),s("span",{staticClass:"line-number"},[this._v("4")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("å¤šçº¿ç¨‹-æ–°æ—¶ä»£çš„å® å„¿")]),this._v(" "),s("p",[this._v("ã€å•æ ¸CPUã€æ—¶ä»£å’Œã€å¤šæ ¸CPU/å¤šCPUã€æ—¶ä»£")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-txt line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("1ã€å•CPUä¸­è¿›ç¨‹åªèƒ½æ˜¯å¹¶å‘ï¼Œå¤šCPUè®¡ç®—æœºä¸­è¿›ç¨‹å¯ä»¥å¹¶è¡Œ\n2ã€ã€å•CPUã€ã€å•æ ¸ã€ä¸­çº¿ç¨‹åªèƒ½å¹¶å‘ï¼Œã€å•CPUã€ã€å¤šæ ¸ã€ä¸­çº¿ç¨‹å¯ä»¥å¹¶è¡Œ\n3ã€æ— è®ºæ˜¯å¹¶å‘è¿˜æ˜¯å¹¶è¡Œï¼Œä½¿ç”¨è€…æ¥çœ‹ï¼Œçœ‹åˆ°çš„æ˜¯å¤šè¿›ç¨‹ï¼Œå¤šçº¿ç¨‹\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br"),s("span",{staticClass:"line-number"},[this._v("3")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_01-çº¿ç¨‹å’Œè¿›ç¨‹è®¤çŸ¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_01-çº¿ç¨‹å’Œè¿›ç¨‹è®¤çŸ¥"}},[this._v("#")]),this._v(" 01.çº¿ç¨‹å’Œè¿›ç¨‹è®¤çŸ¥")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-1-æ¦‚å¿µï¼šå¤šä»»åŠ¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-æ¦‚å¿µï¼šå¤šä»»åŠ¡"}},[this._v("#")]),this._v(" 1.1.æ¦‚å¿µï¼šå¤šä»»åŠ¡")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("strong",[this._v("å¤šä»»åŠ¡")]),this._v("å¯ä»¥ç”±"),s("strong",[this._v("å¤šè¿›ç¨‹")]),this._v("å®Œæˆï¼Œä¹Ÿå¯ä»¥ç”±ä¸€ä¸ªè¿›ç¨‹å†…çš„"),s("strong",[this._v("å¤šçº¿ç¨‹")]),this._v("å®Œæˆã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-2-qï¼šå¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹çš„å¯¹æ¯”ï¼Œä¸»è¦ä¼˜åŠ¿å¯¹æ¯”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-qï¼šå¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹çš„å¯¹æ¯”ï¼Œä¸»è¦ä¼˜åŠ¿å¯¹æ¯”"}},[this._v("#")]),this._v(" 1.2.Qï¼šå¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹çš„å¯¹æ¯”ï¼Œä¸»è¦ä¼˜åŠ¿å¯¹æ¯”")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("å¤šè¿›ç¨‹æ¨¡å‹ï¼Œé€‚ç”¨äºï¼šCPUå¯†é›†å‹")]),t._v(" "),a("li",[t._v("å¤šçº¿ç¨‹æ¨¡å‹ï¼Œ"),a("strong",[t._v("ä¸»è¦ä¼˜åŠ¿")]),t._v("ä¸ºï¼šçº¿ç¨‹é—´åˆ‡æ¢ä»£ä»·è¾ƒå°‘ï¼Œå› æ­¤é€‚ç”¨äºI/Oå¯†é›†å‹çš„å·¥ä½œåœºæ™¯ã€‚\n"),a("ul",[a("li",[t._v("ã€å› æ­¤ï¼ŒI/Oå¯†é›†å‹çš„å·¥ä½œåœºæ™¯ç»å¸¸ä¼šç”±äº"),a("strong",[t._v("I/Oé˜»å¡")]),t._v("å¯¼è‡´"),a("strong",[t._v("é¢‘ç¹çš„åˆ‡æ¢çº¿ç¨‹")]),t._v("ã€‚")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-3-qï¼šä¸ºä»€ä¹ˆéœ€è¦å¤šçº¿ç¨‹ï¼Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-qï¼šä¸ºä»€ä¹ˆéœ€è¦å¤šçº¿ç¨‹ï¼Ÿ"}},[this._v("#")]),this._v(" 1.3.Qï¼šä¸ºä»€ä¹ˆéœ€è¦å¤šçº¿ç¨‹ï¼Ÿ")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("å¤šçº¿ç¨‹å¯ä»¥æé«˜ç¨‹åºçš„æ‰§è¡Œæ€§èƒ½")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("ç»§ç»­è¡¥å……ã€‚ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-4-qï¼šä¸ºä»€ä¹ˆä»»ä½•ä¸€ä¸ªçº¿ç¨‹æŒ‚æ‰éƒ½å¯èƒ½ç›´æ¥é€ æˆæ•´ä¸ªè¿›ç¨‹å´©æºƒï¼Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-qï¼šä¸ºä»€ä¹ˆä»»ä½•ä¸€ä¸ªçº¿ç¨‹æŒ‚æ‰éƒ½å¯èƒ½ç›´æ¥é€ æˆæ•´ä¸ªè¿›ç¨‹å´©æºƒï¼Ÿ"}},[this._v("#")]),this._v(" 1.4.Qï¼šä¸ºä»€ä¹ˆä»»ä½•ä¸€ä¸ªçº¿ç¨‹æŒ‚æ‰éƒ½å¯èƒ½ç›´æ¥é€ æˆæ•´ä¸ªè¿›ç¨‹å´©æºƒï¼Ÿ")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("å¤šçº¿ç¨‹æ¨¡å¼è‡´å‘½çš„ç¼ºç‚¹å°±æ˜¯ï¼šå› ä¸ºæ‰€æœ‰çº¿ç¨‹ã€å…±äº«è¿›ç¨‹çš„å†…å­˜ã€")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_00-å›¾è¡¨è®°å¿†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_00-å›¾è¡¨è®°å¿†"}},[this._v("#")]),this._v(" 00.å›¾è¡¨è®°å¿†")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"å›¾1-è¿›ç¨‹æ§åˆ¶å—ï¼ˆpcbï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å›¾1-è¿›ç¨‹æ§åˆ¶å—ï¼ˆpcbï¼‰"}},[this._v("#")]),this._v(" å›¾1.è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"è§£é‡Šå›¾1-è¿›ç¨‹æ§åˆ¶å—ï¼ˆpcbï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£é‡Šå›¾1-è¿›ç¨‹æ§åˆ¶å—ï¼ˆpcbï¼‰"}},[this._v("#")]),this._v(" è§£é‡Šå›¾1.è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("å…¶å†…éƒ¨æˆå‘˜æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬åªéœ€è¦æŒæ¡ã€"),s("strong",[this._v("ä»¥ä¸‹éƒ¨åˆ†")]),this._v("ã€å³å¯:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("è¿›ç¨‹id:ç³»ç»Ÿä¸­æ¯ä¸ªè¿›ç¨‹æœ‰å”¯ä¸€çš„idï¼Œç”¨"),a("code",[t._v("pid_t")]),t._v("ç±»å‹è¡¨ç¤ºï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°")]),t._v(" "),a("li",[t._v("è¿›ç¨‹çš„çŠ¶æ€:æœ‰å°±ç»ªã€è¿è¡Œã€æŒ‚èµ·ã€åœæ­¢ç­‰çŠ¶æ€")]),t._v(" "),a("li",[a("strong",[t._v("è¿›ç¨‹åˆ‡æ¢")]),t._v("æ—¶éœ€è¦ä¿å­˜å’Œæ¢å¤çš„ä¸€äº›"),a("strong",[t._v("CPUå¯„å­˜å™¨")])]),t._v(" "),a("li",[t._v("æè¿°è™šæ‹Ÿåœ°å€ç©ºé—´çš„ä¿¡æ¯")]),t._v(" "),a("li",[t._v("æè¿°æ§åˆ¶ç»ˆç«¯çš„ä¿¡æ¯")]),t._v(" "),a("li",[t._v("å½“å‰å·¥ä½œç›®å½•(Current Working Directory)")]),t._v(" "),a("li",[t._v("umaskæ©ç ")]),t._v(" "),a("li",[t._v("æ–‡ä»¶æè¿°ç¬¦è¡¨ï¼ŒåŒ…å«å¾ˆå¤šæŒ‡å‘"),a("code",[t._v("fileç»“æ„ä½“")]),t._v("çš„æŒ‡é’ˆ")]),t._v(" "),a("li",[t._v("å’Œä¿¡å·ç›¸å…³çš„ä¿¡æ¯")]),t._v(" "),a("li",[t._v("ç”¨æˆ·idå’Œç»„id")]),t._v(" "),a("li",[t._v("ä¼šè¯(Sessionå’Œè¿›ç¨‹ç»„")]),t._v(" "),a("li",[t._v("è¿›ç¨‹å¯ä»¥ä½¿ç”¨çš„èµ„æºä¸Šé™(Resource Limit)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_01-è¿›ç¨‹å’Œçº¿ç¨‹å¯¹æ¯”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_01-è¿›ç¨‹å’Œçº¿ç¨‹å¯¹æ¯”"}},[this._v("#")]),this._v(" 01.è¿›ç¨‹å’Œçº¿ç¨‹å¯¹æ¯”")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("strong",[this._v("è¿›ç¨‹")]),this._v("æ˜¯"),s("strong",[this._v("èµ„æºç®¡ç†")]),this._v("çš„æœ€å°å•ä½")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("strong",[this._v("çº¿ç¨‹")]),this._v("æ˜¯"),s("strong",[this._v("ç¨‹åºæ‰§è¡Œ")]),this._v("çš„æœ€å°å•ä½ã€å‰ææ˜¯æ”¯æŒçº¿ç¨‹ã€")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"â­ï¸è¿›ç¨‹å’Œçº¿ç¨‹åœ¨ä¸¤å¤§osçš„ç‰¹ç‚¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸è¿›ç¨‹å’Œçº¿ç¨‹åœ¨ä¸¤å¤§osçš„ç‰¹ç‚¹"}},[this._v("#")]),this._v(" â­ï¸è¿›ç¨‹å’Œçº¿ç¨‹åœ¨ä¸¤å¤§OSçš„ç‰¹ç‚¹")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Windowså¯¹è¿›ç¨‹å’Œçº¿ç¨‹çš„å®ç°å¦‚åŒã€æ•™ç§‘ä¹¦ã€ä¸€èˆ¬æ ‡å‡†ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Linuxå†…æ ¸ä¸­"),s("b",[this._v("å¹¶ä¸å­˜åœ¨çœŸæ­£æ„ä¹‰ä¸Š")]),this._v("çš„"),s("b",[this._v("çº¿ç¨‹")]),this._v("çš„æ¦‚å¿µ")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-cpp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Linuxå°†æ‰€æœ‰çš„æ‰§è¡Œå®ä½“ï¼ˆæ— è®ºæ˜¯è¿›ç¨‹è¿˜æ˜¯çº¿ç¨‹ï¼‰éƒ½ç§°ä¸ºã€ã€ä»»åŠ¡ï¼ˆTaskï¼‰ã€ã€\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" æ¯ä¸ªTaskæ¦‚å¿µä¸Šéƒ½ç±»ä¼¼äºä¸€ä¸ªå•çº¿ç¨‹çš„è¿›ç¨‹ï¼Œå…·æœ‰å†…å­˜ç©ºé—´ã€æ‰§è¡Œå®ä½“ã€æ–‡ä»¶èµ„æºç­‰ã€‚\n    \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" ä¸è¿‡"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Linuxä¸‹ã€ä¸åŒçš„Taskï¼ˆä»»åŠ¡ï¼‰ä¹‹é—´å¯ä»¥é€‰æ‹©å…±äº«å†…å­˜ç©ºé—´ã€ï¼Œå› è€Œåœ¨å®é™…æ„ä¹‰ä¸Šï¼Œå…±äº«äº†åŒä¸€ä¸ªå†…å­˜ç©ºé—´çš„å¤šä¸ªä»»åŠ¡æ„æˆäº†ä¸€ä¸ªè¿›ç¨‹ï¼Œ è¿™äº›ä»»åŠ¡ä¹Ÿå°±æˆäº†è¿™ä¸ªè¿›ç¨‹é‡Œçš„çº¿ç¨‹ã€‚\n    \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Linuxä¸‹çš„çº¿ç¨‹ã€æœ¬è´¨ã€ä¸Šç”¨è¿›ç¨‹å®ç°ã€ç‰›å®¢é¢˜ç›®ã€\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_02-è¿›ç¨‹åŒæ­¥ã€7ä¾ ä¼ ã€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_02-è¿›ç¨‹åŒæ­¥ã€7ä¾ ä¼ ã€"}},[this._v("#")]),this._v(" 02.è¿›ç¨‹åŒæ­¥ã€7ä¾ ä¼ ã€")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("ä¿è¯2ç‚¹ï¼šè¿›ç¨‹åŒæ­¥ã€æ•°æ®äº¤æ¢")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"â­ï¸2-1-ç®¡é“ï¼ˆpipeï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸2-1-ç®¡é“ï¼ˆpipeï¼‰"}},[this._v("#")]),this._v(" â­ï¸2.1.ç®¡é“ï¼ˆPIPEï¼‰")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("(ä½¿ç”¨æœ€ç®€å•)")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("æœ‰åç®¡é“")]),t._v(" "),a("li",[t._v("æ— åç®¡é“\n"),a("ul",[a("li",[t._v("è¯­æ³•æœ€æ–¹ä¾¿ï¼Œä»£ç ç¼–å†™é‡æœ€å°‘ã€‚ä¸ç®¡é“å¯¹åº”çš„ï¼Œå¦ä¸€ç§é€šä¿¡æ–¹å¼æ˜¯"),a("strong",[t._v("fifo")]),t._v("ï¼šæˆ‘ä»¬æŠŠå®ƒç§°ä¹‹ä¸ºâ€œæœ‰åç®¡é“â€ï¼Œæ‰€ä»¥æœ‰ä¹¦ï¼Œç§°"),a("strong",[t._v("pipe")]),t._v("ç®¡é“ä¸ºï¼šâ€œæœªåç®¡é“â€æˆ–è€…â€œåŒ¿åç®¡é“â€,ç”¨äºï¼ˆ"),a("strong",[t._v("éè¡€ç¼˜å…³ç³»")]),t._v("è¿›ç¨‹é—´é€šä¿¡ï¼‰")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"â­ï¸2-2-ä¿¡å·é‡ï¼ˆsemaphoreï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸2-2-ä¿¡å·é‡ï¼ˆsemaphoreï¼‰"}},[this._v("#")]),this._v(" â­ï¸2.2.ä¿¡å·é‡ï¼ˆSemaphoreï¼‰")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("æ— åçº¿ç¨‹ä¿¡å·é‡")]),this._v(" "),s("li",[this._v("å‘½åçº¿ç¨‹ä¿¡å·é‡ğŸ”")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-cpp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<semaphore.h>")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//éœ€è¦includeè¿™ä¸ª")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sem_init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sem_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" pshared"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sem_destroy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sem_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sem_wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sem_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sem_post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sem_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sem_getvalue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sem_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("valp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"â­ï¸2-3-ä¿¡å·ï¼ˆsignalï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸2-3-ä¿¡å·ï¼ˆsignalï¼‰"}},[this._v("#")]),this._v(" â­ï¸2.3.ä¿¡å·ï¼ˆSignalï¼‰")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("(å¼€é”€æœ€å°)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("ã€ŠUnixç¯å¢ƒé«˜çº§ç¼–ç¨‹ã€‹ä¸­ç¬¬10ç« ")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<signal.h>")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//éœ€è¦includeè¿™ä¸ª")])]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("sighandler_t")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("sighandler_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" signum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("sighandler_t")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"â­ï¸2-4-æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆmessage-queueï¼Œmqï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸2-4-æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆmessage-queueï¼Œmqï¼‰"}},[this._v("#")]),this._v(" â­ï¸2.4.æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼ŒMQï¼‰")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<sys/msg.h>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[t._v("# æ¶ˆæ¯é˜Ÿåˆ—ç›¸å…³å‡½æ•°åŠæ•°æ®ç»“æ„å¤´æ–‡ä»¶")])]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("msgctl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" msqid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" cmd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("msqid_ds")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("buf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("# æ§åˆ¶æ¶ˆæ¯é˜Ÿåˆ—å‡½æ•°\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("msgget")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("key_t")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" msgflg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" # åˆ›å»ºæ¶ˆæ¯é˜Ÿåˆ—ï¼Œkeyå€¼å”¯ä¸€æ ‡è¯†è¯¥æ¶ˆæ¯é˜Ÿåˆ—\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("msgrcv")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" msqid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("msg_ptr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("size_t")]),t._v(" msg_sz"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" msgtype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" msgflg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("# æ¥æ”¶æ¶ˆæ¯\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("msgsnd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" msqid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("msg_ptr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("size_t")]),t._v(" msg_sz"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" msgflg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("# å‘é€æ¶ˆæ¯\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"â­ï¸2-5-å…±äº«å†…å­˜ï¼ˆshared-memoryï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸2-5-å…±äº«å†…å­˜ï¼ˆshared-memoryï¼‰"}},[this._v("#")]),this._v(" â­ï¸2.5.å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[this._v("ç›¸å¯¹ç®¡é“ï¼Œå¯ä»¥åœ¨"),s("strong",[this._v("æ²¡æœ‰è¡€ç¼˜å…³ç³»")]),this._v("çš„è¿›ç¨‹ä¹‹é—´ï¼Œå®Œæˆæ•°æ®ä¼ é€’ã€‚")])]),this._v(" "),s("li",[s("p",[this._v("å…±äº«å†…å­˜æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š1ã€å†…å­˜æ˜ å°„ 2ã€å…±äº«å†…å­˜æœºåˆ¶")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("1ã€å†…å­˜æ˜ å°„")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("å†…å­˜æ˜ å°„"),s("code",[this._v("memory map")]),this._v("æœºåˆ¶ä½¿è¿›ç¨‹ä¹‹é—´é€šè¿‡æ˜ å°„åŒä¸€ä¸ªæ™®é€šæ–‡ä»¶å®ç°å…±äº«å†…å­˜ï¼Œé€šè¿‡"),s("code",[this._v("mmap()")]),this._v("ç³»ç»Ÿè°ƒç”¨å®ç°ã€‚")]),this._v(" "),s("li",[this._v("æ™®é€šæ–‡ä»¶è¢«æ˜ å°„åˆ°è¿›ç¨‹åœ°å€ç©ºé—´åï¼Œè¿›ç¨‹å¯ä»¥åƒè®¿é—®æ™®é€šå†…å­˜ä¸€æ ·å¯¹æ–‡ä»¶è¿›è¡Œè®¿é—®ï¼Œä¸å¿…å†è°ƒç”¨read/writeç­‰æ–‡ä»¶æ“ä½œå‡½æ•°ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("2ã€UNIX System Vå…±äº«å†…å­˜æœºåˆ¶")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("IPCçš„å…±äº«å†…å­˜æŒ‡çš„æ˜¯æŠŠæ‰€æœ‰çš„å…±äº«æ•°æ®æ”¾åœ¨å…±äº«å†…å­˜åŒºåŸŸï¼ˆIPC shared memory regionï¼‰ï¼Œä»»ä½•æƒ³è¦è®¿é—®è¯¥æ•°æ®çš„è¿›ç¨‹éƒ½å¿…é¡»åœ¨æœ¬è¿›ç¨‹çš„åœ°å€ç©ºé—´æ–°å¢ä¸€å—å†…å­˜åŒºåŸŸï¼Œç”¨æ¥æ˜ å°„å­˜æ”¾å…±äº«æ•°æ®çš„ç‰©ç†å†…å­˜é¡µé¢ã€‚")]),this._v(" "),s("li",[this._v("å’Œå‰é¢çš„mmapç³»ç»Ÿè°ƒç”¨é€šè¿‡æ˜ å°„ä¸€ä¸ªæ™®é€šæ–‡ä»¶å®ç°å…±äº«å†…å­˜ä¸åŒï¼Œ"),s("code",[this._v("UNIX system V")]),this._v("å…±äº«å†…å­˜æ˜¯é€šè¿‡æ˜ å°„ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿshmä¸­çš„æ–‡ä»¶å®ç°è¿›ç¨‹é—´çš„å…±äº«å†…å­˜é€šä¿¡ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"â­ï¸2-6-å¥—æ¥å­—ï¼ˆsocketï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸2-6-å¥—æ¥å­—ï¼ˆsocketï¼‰"}},[this._v("#")]),this._v(" â­ï¸2.6.å¥—æ¥å­—ï¼ˆSocketï¼‰")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("æœ¬åœ°å¥—æ¥å­—ï¼Œç›¸è¾ƒäºå‰3ç§ï¼Œéš¾åº¦æœ€å¤§ï¼Œä½†æ˜¯ç¨³å®šæ€§æœ€å¥½")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"â­ï¸2-7-æ¯”å¦‚cè¯­è¨€ä¸­ï¼Œæ–°å»ºæ–‡ä»¶ã€å·²ç»è¢«å¼ƒç”¨ã€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸2-7-æ¯”å¦‚cè¯­è¨€ä¸­ï¼Œæ–°å»ºæ–‡ä»¶ã€å·²ç»è¢«å¼ƒç”¨ã€"}},[this._v("#")]),this._v(" â­ï¸2.7.æ¯”å¦‚Cè¯­è¨€ä¸­ï¼Œæ–°å»ºæ–‡ä»¶ã€å·²ç»è¢«å¼ƒç”¨ã€")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_03-çº¿ç¨‹åŒæ­¥æŠ€æœ¯ã€4å¤§å¤©ç‹ã€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_03-çº¿ç¨‹åŒæ­¥æŠ€æœ¯ã€4å¤§å¤©ç‹ã€"}},[this._v("#")]),this._v(" 03.çº¿ç¨‹åŒæ­¥æŠ€æœ¯ã€4å¤§å¤©ç‹ã€")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-cpp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pthread_attr_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("attr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("start_routine"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("arg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_t thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("retval"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\npthread_t "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_self")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("ä¿è¯1ç‚¹ï¼šçº¿ç¨‹åŒæ­¥")]),this._v(" "),s("li",[this._v("Tipsï¼šçº¿ç¨‹ç”±äºï¼Œå·²ç»å…±äº«å†…å­˜ç©ºé—´äº†ï¼Œæ‰€ä»¥ï¼Œæ²¡æœ‰å¿…è¦ã€æ•°æ®äº¤æ¢ã€ï¼Œä¹Ÿå°±ä¸éœ€è¦ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-é”æœºåˆ¶ï¼ˆåŒ…æ‹¬ä¸‹é¢4ç§ï¼‰lock"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-é”æœºåˆ¶ï¼ˆåŒ…æ‹¬ä¸‹é¢4ç§ï¼‰lock"}},[this._v("#")]),this._v(" ğŸ”1.é”æœºåˆ¶ï¼ˆåŒ…æ‹¬ä¸‹é¢4ç§ï¼‰Lock")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("ğŸ”äº’æ–¥é‡/é”ï¼ˆmutexï¼‰/äº’æ–¥ä½“")]),t._v(" "),a("li",[t._v("äº’æ–¥é”æ˜¯ä¸ºå®ç°ä¿æŠ¤å…±äº«èµ„æºè€Œæå‡ºä¸€ç§é”æœºåˆ¶ã€‚é‡‡ç”¨äº’æ–¥é”ä¿æŠ¤ä¸´ç•ŒåŒºï¼Œé˜²æ­¢ç«äº‰æ¡ä»¶å‡ºç°ã€‚å½“æŸä¸ªçº¿ç¨‹æ— æ³•è·å–äº’æ–¥é”æ—¶ï¼Œè¯¥çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œå½“å…¶ä»–çº¿ç¨‹é‡Šæ”¾äº’æ–¥é”åï¼Œæ“ä½œç³»ç»Ÿä¼šå”¤é†’è¢«æŒ‚èµ·åœ¨è¿™ä¸ªé”ä¸Šçš„çº¿ç¨‹ï¼Œè®©å…¶è¿è¡Œã€‚")]),t._v(" "),a("li",[t._v("åœºæ™¯ï¼š\n"),a("ul",[a("li",[t._v("1ã€è§£å†³ã€çº¿ç¨‹å®‰å…¨ã€é—®é¢˜ï¼Œä¸€æ¬¡åªèƒ½ä¸€ä¸ªçº¿ç¨‹è®¿é—®è¢«ä¿æŠ¤çš„èµ„æºã€‚")]),t._v(" "),a("li",[t._v("2ã€è¢«ä¿æŠ¤èµ„æºéœ€è¦ã€ç¡çœ ã€ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨äº’æ–¥é”")])])]),t._v(" "),a("li",[t._v("äº’æ–¥é”çš„ä¼˜åŒ–")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-txt line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("- åœ¨Linuxä¸‹äº’æ–¥é”çš„å®ç°æ˜¯é€šè¿‡ã€futexã€è¿™ä¸ªåŸºç¡€ç»„ä»¶ã€‚\n- äº’æ–¥é”åŠ é”è§£é”å¼€é”€å¾ˆå¤§ï¼Œéœ€è¦ä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢ä»¥åŠæ¶‰åŠç¼“å­˜çš„æ›´æ–°ç­‰ç­‰ã€‚\né€šå¸¸å¾ˆå¤šåŒæ­¥æ“ä½œå‘ç”Ÿçš„æ—¶å€™å¹¶æ²¡æœ‰ç«äº‰çš„äº§ç”Ÿï¼Œæ­¤æ—¶ä¸Šè¿°å¼€é”€å°±æ²¡æœ‰å¿…è¦ã€‚\nè€ƒè™‘åˆ°è¿™ä¸ªå› ç´ ï¼Œfutexé€šè¿‡ç”¨æˆ·ç©ºé—´çš„å…±äº«å†…å­˜ä»¥åŠåŸå­æ“ä½œï¼Œåœ¨å…±äº«çš„èµ„æºä¸å­˜åœ¨ç«äº‰çš„æ—¶å€™ï¼Œä¸ä¼šè¿›è¡Œç³»ç»Ÿè°ƒç”¨è€Œæ˜¯åªæœ‰å½“ç«äº‰å‡ºç°çš„æƒ…å†µä¸‹å†è¿›è¡Œç³»ç»Ÿè°ƒç”¨é™·å…¥å†…æ ¸ã€‚\nè¿›ç¨‹æˆ–è€…çº¿ç¨‹åœ¨æ²¡æœ‰ç«äº‰çš„æƒ…å†µä¸‹å¯ä»¥ç«‹åˆ»è·å–é”ã€‚\nå…·ä½“æ¥è¯´ï¼Œfutexçš„ä¼˜åŒ–æ–¹å¼å¦‚ä¸‹ï¼š\nfutexå°†åŒæ­¥è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†ç”±å†…æ ¸å®Œæˆï¼Œä¸€éƒ¨åˆ†ç”±ç”¨æˆ·æ€å®Œæˆï¼›å¦‚æœåŒæ­¥æ—¶æ²¡æœ‰ç«äº‰å‘ç”Ÿï¼Œé‚£ä¹ˆå®Œå…¨åœ¨ç”¨æˆ·æ€å¤„ç†ï¼›å¦åˆ™ï¼Œè¿›å…¥å†…æ ¸æ€è¿›è¡Œå¤„ç†ã€‚\nã€å‡å°‘ç³»ç»Ÿè°ƒç”¨çš„æ¬¡æ•°ï¼Œæ¥æé«˜ç³»ç»Ÿçš„æ€§èƒ½æ˜¯ä¸€ç§åˆç†çš„ä¼˜åŒ–æ–¹å¼ã€‚ã€\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-cpp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<pthread.h>")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//éœ€è¦includeçš„")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_mutex_init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_mutex_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("mutex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pthread_mutexattr_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("mutexattr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_mutex_destroy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_mutex_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("mutex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_mutex_lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_mutex_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("mutex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_mutex_trylock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_mutex_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("mutex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_mutex_unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_mutex_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("mutex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("ğŸ”è¯»å†™é”ï¼ˆreader-writer lockï¼‰")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<pthread.h>")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//éœ€è¦includeçš„")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_rwlock_init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("pthread_rwlock_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("restrict rwlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("pthread_rwlockattr_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("restrict attr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_rwlock_destroy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("pthread_rwlock_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("rwlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_rwlock_rdlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("pthread_rwlock_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("rwlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_rwlock_tryrdlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("pthread_rwlock_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("rwlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_rwlock_wrlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("pthread_rwlock_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("rwlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_rwlock_trywrlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("pthread_rwlock_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("rwlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_rwlock_unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("pthread_rwlock_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("rwlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ä¸‹é¢æ˜¯è¿‡æ—¶çš„â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¿™ä¸¤ä¸ªå‡½æ•°åœ¨Linuxå’ŒMacçš„manæ–‡æ¡£é‡Œéƒ½æ²¡æœ‰ï¼Œæ–°ç‰ˆçš„pthread.hé‡Œé¢ä¹Ÿæ²¡æœ‰ï¼Œæ—§ç‰ˆçš„èƒ½æ‰¾åˆ°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_rwlock_timedrdlock_np")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("pthread_rwlock_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("rwlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("timespec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("deltatime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_rwlock_timedwrlock_np")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("pthread_rwlock_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("rwlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("timespec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("deltatime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("ğŸ”è‡ªæ—‹é”ï¼ˆspin lockï¼‰")]),this._v(" "),s("li",[this._v("è‡ªæ—‹é”ä¹Ÿæ˜¯ä¸ºå®ç°ä¿æŠ¤å…±äº«èµ„æºè€Œæå‡ºä¸€ç§é”æœºåˆ¶ã€‚")]),this._v(" "),s("li",[this._v("è‡ªæ—‹é”ä¸ä¼šå¼•èµ·è°ƒç”¨çº¿ç¨‹é˜»å¡ï¼Œå¦‚æœè‡ªæ—‹é”å·²ç»è¢«åˆ«çš„çº¿ç¨‹æŒæœ‰ï¼Œè°ƒç”¨çº¿ç¨‹å°±ä¸€ç›´å¾ªç¯æ£€æµ‹æ˜¯å¦è¯¥è‡ªæ—‹é”å·²ç»è¢«é‡Šæ”¾ã€‚")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-cpp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_spin_init")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__pthread_spinlock_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("__lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" __pshared"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_spin_destroy")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__pthread_spinlock_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("__lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_spin_lock")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__pthread_spinlock_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("__lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_spin_trylock")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__pthread_spinlock_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("__lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_spin_unlock")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__pthread_spinlock_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("__lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("â­ï¸"),s("strong",[this._v("æ¡ä»¶å˜é‡")]),this._v("ï¼ˆconditionï¼‰")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-cpp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<pthread.h>")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//éœ€è¦includeçš„")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_cond_init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_cond_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("restrict cond"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pthread_condattr_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("restrict attr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_cond_destroy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_cond_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cond"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_cond_wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_cond_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("restrict cond"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pthread_mutex_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("restrict mutex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_cond_timedwait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_cond_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("restrict cond"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pthread_mutex_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("restrict mutex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("timespec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("restrict abstime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_cond_signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_cond_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cond"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pthread_cond_broadcast")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pthread_cond_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cond"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"â­ï¸2ã€ä¿¡å·é‡æœºåˆ¶ï¼ˆsemaphoreï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸2ã€ä¿¡å·é‡æœºåˆ¶ï¼ˆsemaphoreï¼‰"}},[this._v("#")]),this._v(" â­ï¸2ã€ä¿¡å·é‡æœºåˆ¶ï¼ˆSemaphoreï¼‰")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("æ— åçº¿ç¨‹ä¿¡å·é‡")]),this._v(" "),s("li",[this._v("å‘½åçº¿ç¨‹ä¿¡å·é‡")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-cpp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<semaphore.h>")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//éœ€è¦includeè¿™ä¸ª")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sem_init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sem_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" pshared"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sem_destroy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sem_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sem_wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sem_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ï¼ˆç›¸å½“äºåŠ é”ï¼Œè¡¨ç¤º--ï¼‰")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sem_post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sem_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ï¼ˆç›¸å½“äºè§£é”ï¼Œè¡¨ç¤º++ï¼‰")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sem_getvalue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sem_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("valp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nsem_trywaitå‡½æ•°\nsem_timedwaitå‡½æ•°\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"â­ï¸3ã€ä¿¡å·æœºåˆ¶ï¼ˆsignalï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸3ã€ä¿¡å·æœºåˆ¶ï¼ˆsignalï¼‰"}},[this._v("#")]),this._v(" â­ï¸3ã€ä¿¡å·æœºåˆ¶ï¼ˆSignalï¼‰")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("ã€ŠUnixç¯å¢ƒé«˜çº§ç¼–ç¨‹ã€‹ä¸­ç¬¬10ç« ")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<signal.h>")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//éœ€è¦includeè¿™ä¸ª")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("sighandler_t")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("sighandler_t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" signum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("sighandler_t")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"â­ï¸4ã€å±éšœï¼ˆbarrierï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â­ï¸4ã€å±éšœï¼ˆbarrierï¼‰"}},[this._v("#")]),this._v(" â­ï¸4ã€å±éšœï¼ˆbarrierï¼‰")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_04-ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ï¼Œç¼–ç é“¾æ¥å’Œåº“åˆ†ç±»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_04-ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ï¼Œç¼–ç é“¾æ¥å’Œåº“åˆ†ç±»"}},[this._v("#")]),this._v(" 04.ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ï¼Œç¼–ç é“¾æ¥å’Œåº“åˆ†ç±»")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[this._v("ä¸‹é¢çš„è¯´æ³•æ¥è‡ªã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ï¼Œç¼–ç é“¾æ¥å’Œåº“ã€‹ï¼Œæ„Ÿè§‰åˆ†ç±»ä¸æ­£ç¡®")])]),this._v(" "),s("li",[s("p",[this._v("åŒæ­¥çš„å„ç§é”ï¼š")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-txt line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('ï¼ˆ1ï¼‰ä¿¡å·é‡\nï¼ˆä¸¥æ ¼ç¨‹åº¦ï¼šä½ï¼‰äºŒå…ƒä¿¡å·é‡ï¼ˆBinary Semaphoreï¼‰æ˜¯æœ€ç®€å•çš„ä¸€ç§é”ï¼Œå®ƒåªæœ‰ä¸¤ç§çŠ¶æ€:å ç”¨ä¸éå ç”¨ã€‚\nå®ƒé€‚åˆåªèƒ½è¢«å”¯ä¸€ä¸ªçº¿ç¨‹ç‹¬å è®¿é—®çš„èµ„æºã€‚å½“äºŒå…ƒä¿¡å·é‡å¤„äºéå ç”¨çŠ¶æ€æ—¶ï¼Œç¬¬ä¸€ä¸ªè¯•å›¾è·å–è¯¥äºŒå…ƒä¿¡å·é‡çš„çº¿ç¨‹ä¼šè·å¾—è¯¥é”ï¼Œå¹¶å°†äºŒå…ƒä¿¡å·é‡ç½®ä¸ºå ç”¨çŠ¶æ€ï¼Œæ­¤åå…¶ä»–çš„æ‰€æœ‰è¯•å›¾è·å–è¯¥äºŒå…ƒä¿¡å·é‡çš„çº¿ç¨‹å°†ä¼šç­‰å¾…ï¼Œç›´åˆ°è¯¥é”è¢«é‡Šæ”¾ã€‚\n- å¯¹äºå…è®¸å¤šä¸ªçº¿ç¨‹å¹¶å‘è®¿é—®çš„èµ„æºï¼Œ<b>å¤šå…ƒä¿¡å·é‡ç®€ç§°ä¿¡å·é‡(Semaphore)</b>,å®ƒæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚ä¸€ä¸ªåˆå§‹å€¼ä¸ºNçš„ä¿¡å·é‡å…è®¸Nä¸ªçº¿ç¨‹å¹¶å‘è®¿é—®ã€‚çº¿ç¨‹è®¿é—®èµ„æºçš„æ—¶å€™é¦–å…ˆè·å–ä¿¡å·é‡ï¼Œè¿›è¡Œå¦‚ä¸‹æ“ä½œ:\n- å°†ä¿¡å·é‡çš„å€¼å‡1ã€‚\n- å¦‚æœä¿¡å·é‡çš„å€¼å°äº0ï¼Œåˆ™è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œå¦åˆ™ç»§ç»­æ‰§è¡Œã€‚\n- è®¿é—®å®Œèµ„æºä¹‹åï¼Œçº¿ç¨‹é‡Šæ”¾ä¿¡å·é‡ï¼Œè¿›è¡Œå¦‚ä¸‹æ“ä½œ:\n- å°†ä¿¡å·é‡çš„å€¼åŠ 1ã€‚\n- å¦‚æœä¿¡å·é‡çš„å€¼å°äº1,å”¤é†’-ä¸€ä¸ªç­‰å¾…ä¸­çš„çº¿ç¨‹ã€‚\n\n\nï¼ˆä¸¥æ ¼ç¨‹åº¦ï¼šä¸­ï¼‰äº’æ–¥é‡ï¼ˆMutexï¼‰å’ŒäºŒå…ƒä¿¡å·é‡å¾ˆç±»ä¼¼ï¼Œèµ„æºä»…åŒæ—¶å…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œä½†å’Œä¿¡å·é‡ä¸åŒçš„æ˜¯:\n1ï¼‰ä¿¡å·é‡åœ¨æ•´ä¸ªç³»ç»Ÿå¯ä»¥è¢«ä»»æ„çº¿ç¨‹è·å–å¹¶é‡Šæ”¾ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒä¸€ä¸ªä¿¡å·é‡å¯ä»¥è¢«ç³»ç»Ÿä¸­çš„ä¸€ä¸ªçº¿ç¨‹è·å–ä¹‹åçš„<font style="background: yellow">å¦ä¸€ä¸ªçº¿ç¨‹</font>é‡Šæ”¾ã€‚\n2ï¼‰äº’æ–¥é‡åˆ™è¦æ±‚å“ªä¸ªçº¿ç¨‹è·å–äº†äº’æ–¥é‡ï¼Œå“ªä¸ªçº¿ç¨‹å°±è¦è´Ÿè´£é‡Šæ”¾è¿™ä¸ªé”ï¼Œå…¶ä»–çº¿ç¨‹è¶Šä¿ä»£åº–å»é‡Šæ”¾äº’æ–¥é‡æ˜¯æ— æ•ˆçš„ã€‚\n\n\n\nï¼ˆä¸¥æ ¼ç¨‹åº¦ï¼šé«˜ï¼‰ä¸´ç•ŒåŒºï¼ˆCritical Sectionï¼‰æ˜¯æ¯”äº’æ–¥é‡æ›´åŠ ä¸¥æ ¼çš„åŒæ­¥æ‰‹æ®µã€‚\nåœ¨æœ¯è¯­ä¸­ï¼ŒæŠŠä¸´ç•ŒåŒºçš„é”çš„è·å–ç§°ä¸ºè¿›å…¥ä¸´ç•ŒåŒº,è€ŒæŠŠé”çš„ç¨‹æ”¾ç§°ä¸ºç¦»å¼€ä¸´ç•ŒåŒºã€‚\nä¸´ç•ŒåŒºå’Œäº’æ–¥é‡ä¸ä¿¡å·é‡çš„åŒºåˆ«åœ¨äº:\n1ï¼‰<b>äº’æ–¥é‡å’Œä¿¡å·é‡</b>åœ¨ç³»ç»Ÿçš„<font style="background: yellow"><b>ä»»ä½•è¿›ç¨‹</b></font>é‡Œéƒ½æ˜¯å¯è§çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªè¿›ç¨‹åˆ›å»ºäº†ä¸€ä¸ªäº’æ–¥é‡æˆ–ä¿¡å·é‡,å¦ä¸€ä¸ªè¿›ç¨‹è¯•å›¾å»è·å–è¯¥é”æ˜¯åˆæ³•çš„ã€‚\n2ï¼‰<b>ä¸´ç•ŒåŒº</b>çš„ä½œç”¨èŒƒå›´<font style="background: yellow"><b>ä»…é™äºæœ¬è¿›ç¨‹</b></font>ï¼Œå…¶ä»–çš„è¿›ç¨‹æ— æ³•è·å–è¯¥é”ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¸´ç•ŒåŒºå…·æœ‰å’Œäº’æ–¥é‡ç›¸åŒçš„æ€§è´¨ã€‚\n\n\n\n\nï¼ˆ2ï¼‰è¯»å†™é”ï¼ˆRead-Write Lockï¼‰\n- ç”±æ¥ï¼šå¯¹äºä¸€æ®µæ•°æ®ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶è¯»å–æ€»æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†å‡è®¾æ“ä½œéƒ½ä¸æ˜¯åŸå­å‹ï¼Œåªè¦æœ‰ä»»ä½•ä¸€ä¸ªçº¿ç¨‹è¯•å›¾å¯¹è¿™ä¸ªæ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œå°±å¿…é¡»ä½¿ç”¨åŒæ­¥æ‰‹æ®µæ¥é¿å…å‡ºé”™ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¸Šè¿°ä¿¡å·é‡ã€äº’æ–¥é‡æˆ–ä¸´ç•ŒåŒºä¸­çš„ä»»ä½•ä¸€ç§æ¥è¿›è¡ŒåŒæ­¥ï¼Œå°½ç®¡å¯ä»¥ä¿è¯ç¨‹åºæ­£ç¡®ï¼Œä½†<b>å¯¹äºè¯»å–é¢‘ç¹ï¼Œè€Œä»…ä»…å¶å°”å†™å…¥çš„æƒ…å†µ</b>ï¼Œä¼šæ˜¾å¾—éå¸¸ä½æ•ˆã€‚\n- è¯»å†™é”(Read-Write Lock)è‡´åŠ›äºä¸€ç§æ›´åŠ ç‰¹å®šçš„åœºåˆçš„åŒæ­¥:<b>è¯»å–é¢‘ç¹ï¼Œå¶å°”å†™å…¥çš„æƒ…å†µ</b>\n- è¯»å†™é”å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚å¯¹äºåŒä¸€ä¸ªé”ï¼Œè¯»å†™é”æœ‰ä¸¤ç§è·å–æ–¹å¼ï¼Œ<b>å…±äº«çš„(Shared)</b>æˆ–<b>ç‹¬å (Exclusive)</b>ã€‚\n- å½“é”å¤„äºè‡ªç”±çš„çŠ¶æ€æ—¶ï¼Œè¯•å›¾ä»¥ä»»ä½•ä¸€ç§æ–¹å¼è·å–é”éƒ½èƒ½æˆåŠŸï¼Œå¹¶å°†é”ç½®äºå¯¹åº”çš„çŠ¶æ€ã€‚\n- å¦‚æœé”å¤„äºå…±äº«çŠ¶æ€ï¼Œå…¶ä»–çº¿ç¨‹ä»¥å…±äº«çš„æ–¹å¼è·å–é”ä»ç„¶ä¼šæˆåŠŸï¼Œæ­¤æ—¶è¿™ä¸ªé”åˆ†é…ç»™äº†å¤šä¸ªçº¿ç¨‹ã€‚ç„¶è€Œï¼Œå¦‚æœå…¶ä»–çº¿ç¨‹è¯•å›¾ä»¥ç‹¬èº«çš„æ–¹å¼è·å–å·²ç»å¤„äºå…±äº«çŠ¶æ€çš„é”ï¼Œé‚£ä¹ˆå®ƒå°†å¿…é¡»ç­‰å¾…é”è¢«æ‰€æœ‰çš„çº¿ç¨‹é‡Šæ”¾ã€‚\n- ç›¸åº”åœ°ï¼Œå¤„äºç‹¬å çŠ¶æ€çš„é”å°†é˜»æ­¢ä»»ä½•å…¶ä»–çº¿ç¨‹è·å–è¯¥é”ï¼Œä¸è®ºå®ƒä»¬è¯•å›¾ä»¥å“ªç§æ–¹å¼è·å–ã€‚\n\n\nï¼ˆ3ï¼‰æ¡ä»¶å˜é‡ï¼ˆCondition Variableï¼‰ ä½œä¸ºä¸€ç§åŒæ­¥æ‰‹æ®µï¼Œä½œç”¨ç±»ä¼¼äºä¸€ä¸ªæ …æ ã€‚\n- å¯¹äºæ¡ä»¶å˜é‡ï¼Œçº¿ç¨‹å¯ä»¥æœ‰ä¸¤ç§æ“ä½œï¼Œé¦–å…ˆçº¿ç¨‹å¯ä»¥ç­‰å¾…æ¡ä»¶å˜é‡ï¼Œä¸€ä¸ªæ¡ä»¶å˜é‡å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹ç­‰å¾…ã€‚\n- å…¶æ¬¡ï¼Œçº¿ç¨‹å¯ä»¥å”¤é†’æ¡ä»¶å˜é‡,æ­¤æ—¶æŸä¸ªæˆ–æ‰€æœ‰ç­‰å¾…æ­¤æ¡ä»¶å˜é‡çš„çº¿ç¨‹éƒ½ä¼šè¢«å”¤é†’å¹¶ç»§ç»­æ”¯æŒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨æ¡ä»¶å˜é‡å¯ä»¥è®©è®¸å¤šçº¿ç¨‹-èµ·ç­‰å¾…æŸä¸ªäº‹ä»¶çš„å‘ç”Ÿï¼Œå½“äº‹ä»¶å‘ç”Ÿæ—¶(æ¡ä»¶å˜é‡è¢«å”¤é†’)ï¼Œæ‰€æœ‰çš„çº¿ç¨‹å¯ä»¥ä¸€èµ·æ¢å¤æ‰§è¡Œã€‚\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br")])])}],!1,null,null,null);s.default=e.exports}}]);